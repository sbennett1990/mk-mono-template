# Make Include Files

This is the README file for the make "include" files for Mono/C# programs
built on OpenBSD.
These makefiles use the **csc** compiler that is included as part of
the Mono package; they do not currently utilize **msbuild** or **xbuild**.
The files can be copied into specific directories, and are, by convention,
named with the suffix ".mk".

## Caveats

These makefiles only work with BSD make because they depend on BSD
extensions.
Additionally, they have only been tested on OpenBSD because that's
what I use.

## Makefiles

* mono.prog.mk		- building programs from source files
* mono.lib.mk		- support for building libraries (i.e. projects that aren't part of the 'main' program)

These include files can be included in your primary *Makefile*
like so:

	.include "mono.prog.mk"

These should be included at the **end** of your *Makefile*.

The variables used to customize the build process for
your program should be defined in the primary *Makefile* only;
there is no need to modify the make include files.

### mono.prog.mk

The include file **"mono.prog.mk"** handles building C# programs
from one or more source files.

#### Targets

**all:**  
**release:**

> Build the program and the libraries it depends on.

**clean:**

> Remove the program and any other automatically generated files
> (including files from **debug** builds).

**debug:**

> Build a debug version of the program and dependencies. Does
> not optimize the code and it defines the **DEBUG** symbol.

**libs:**

> Build any dependent libraries.

**obj:**

> Create the output directory. This should be ran before anything else.

#### Variables

The following variables are used to build your program.

Required variables:

* PROG

> The name of the program to build. Do not tack on the extension.

* SRCS

> List of source files to build the program.

* SRCDIR

> Directory that contains the sources for the main program.
> This should be relative to the makefile.

* MAIN

> Name of the class that holds the entry-point *Main()*

* BINDIR

> Target directory for built artifacts.

Optional variables:

* LANG

> Which version of the C# language the program should be built
> with. The default is version **7.0**.

* LIBS

> List of libraries (dependencies) this program uses. This is a
> space delimited list which does not require the **.dll**
> extension.

* PROPS

> List of sources in the *Properties* directory (which is
> common in .NET Framework projects generated by Visual Studio).

* APPCONFIG

> Name of the App config file for the program (relative to the
> makefile).

* DOCFILE

> Specifies an XML file where processed documentation comments are to
> be written.

* CSSYMBOL

> List of simicolon-separated symbols to define for the build.
